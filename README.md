
## üß© **ufo/dto-transformer**

–ë—ñ–±–ª—ñ–æ—Ç–µ–∫–∞ –Ω–∞–¥–∞—î —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ –¥–ª—è **–¥–≤–æ—Å—Ç–æ—Ä–æ–Ω–Ω—å–æ—ó —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü—ñ—ó –æ–± º—î–∫—Ç—ñ–≤ DTO ‚áÑ –º–∞—Å–∏–≤–∏**, –∑ –¥–æ—Ç—Ä–∏–º–∞–Ω–Ω—è–º —Ç–∏–ø—ñ–∑–∞—Ü—ñ—ó, –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ñ–≤ —Ç–∞ –≥–Ω—É—á–∫–æ—ó –ª–æ–≥—ñ–∫–∏ –ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è. –ü—ñ–¥—Ö–æ–¥–∏—Ç—å –¥–ª—è –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –∑ JSON-RPC, REST API, CLI —Ç–∞ —ñ–Ω—à–∏–º–∏ –≤–∏–ø–∞–¥–∫–∞–º–∏, –¥–µ –¥–∞–Ω—ñ –ø–µ—Ä–µ–¥–∞—é—Ç—å—Å—è –º–∞—Å–∏–≤–∞–º–∏.

---

## üì¶ –û—Å–Ω–æ–≤–Ω—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏:

### üîÅ `DTOTransformer`

–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∏–π —Å–µ—Ä–≤—ñ—Å –¥–ª—è:

* —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü—ñ—ó –º–∞—Å–∏–≤—É —É DTO —á–µ—Ä–µ–∑ `fromArray(...)`;
* —Å–µ—Ä—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó DTO —É –º–∞—Å–∏–≤ —á–µ—Ä–µ–∑ `toArray(...)`.

### ‚öôÔ∏è `IDTOFromArrayTransformer` + `IDTOToArrayTransformer`

–Ü–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∏ –¥–ª—è –æ–∫—Ä–µ–º–∏—Ö –∫–∞—Å—Ç–æ–º–Ω–∏—Ö —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–µ—Ä—ñ–≤, —è–∫—ñ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—é—Ç—å –∑–∞ —Å–ø–µ—Ü–∏—Ñ—ñ—á–Ω—É –ª–æ–≥—ñ–∫—É —Ä–æ–∑–ø–∞–∫—É–≤–∞–Ω–Ω—è / –ø–∞–∫—É–≤–∞–Ω–Ω—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏—Ö DTO.

### üß± `BaseDTOFromArrayTransformer`

–ë–∞–∑–æ–≤–∏–π –∫–ª–∞—Å —ñ–∑ —Ç–∏–ø–æ–≤–æ—é —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—î—é `fromArray()`, —è–∫–∞ –≤–∫–ª—é—á–∞—î:

* –ø–µ—Ä–µ–≤—ñ—Ä–∫—É `supportsClass(...)`;
* –Ω–æ—Ä–º–∞–ª—ñ–∑–∞—Ü—ñ—é –¥–∞–Ω–∏—Ö (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `renameKey`);
* –≤–∏–∫–ª–∏–∫ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ –æ–± º—î–∫—Ç–∞.

### üö® `NotSupportDTOException`

–í–∏–∫–∏–¥–∞—î—Ç—å—Å—è, —è–∫—â–æ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–µ—Ä –Ω–µ –ø—ñ–¥—Ç—Ä–∏–º—É—î –ø–µ—Ä–µ–¥–∞–Ω–∏–π –∫–ª–∞—Å DTO.

---

## üß¨ –ö–æ–Ω—Ç—Ä–∞–∫—Ç–∏ —Ç–∞ —Ç—Ä–µ–π—Ç–∏:

### `IArrayConstructible` + `ArrayConstructibleTrait`

–î–ª—è DTO-–∫–ª–∞—Å—ñ–≤, —è–∫—ñ —Ö–æ—á—É—Ç—å –ø—ñ–¥—Ç—Ä–∏–º—É–≤–∞—Ç–∏ `fromArray(...)`:

* –ó–∞–±–µ–∑–ø–µ—á—É—é—Ç—å –≤–∏–∫–ª–∏–∫ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ –∑ –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è–º –∞—Ä–≥—É–º–µ–Ω—Ç—ñ–≤;
* –ü—Ä–∞—Ü—é—é—Ç—å –∑ `ReflectionParameter`.

### `IArrayConvertible` + `ArrayConvertibleTrait`

–î–ª—è DTO-–∫–ª–∞—Å—ñ–≤, —è–∫—ñ –º–∞—é—Ç—å `toArray()`:

* –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Å–µ—Ä—ñ–∞–ª—ñ–∑—É—é—Ç—å `public` —ñ `readonly` –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ;
* –ü—ñ–¥—Ç—Ä–∏–º—É—é—Ç—å –ø–µ—Ä–µ–π–º–µ–Ω—É–≤–∞–Ω–Ω—è –∫–ª—é—á—ñ–≤ —Ç–∞ `#[DTOAttributesEnum::Hidden]`.

---

## üßæ `DTOAttributesEnum`

Enum, —è–∫–∏–π –≤–∏–∑–Ω–∞—á–∞—î –∞—Ç—Ä–∏–±—É—Ç–∏ –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç–µ–π, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥:

* `Hidden` ‚Äî –Ω–µ –≤–∫–ª—é—á–∞—Ç–∏ —É toArray;
* `Alias` ‚Äî –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞ –Ω–∞–∑–≤–∞ –ø–æ–ª—è.

---

## üîå –Ø–∫ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏:

```php
class MyDTO implements IArrayConstructible, IArrayConvertible
{
    use ArrayConstructibleTrait;
    use ArrayConvertibleTrait;

    public function __construct(
        public readonly string $id,
        public string $name
    ) {}
}

$dto = DTOTransformer::fromArray(MyDTO::class, ['id' => '123', 'name' => 'Alex']);
$data = DTOTransformer::toArray($dto);
```

---

## üß† –ü–µ—Ä–µ–≤–∞–≥–∏:

* –ü–æ–≤–Ω–∞ –ø—ñ–¥—Ç—Ä–∏–º–∫–∞ PHP 8.3 —Ç–∏–ø—ñ–∑–∞—Ü—ñ—ó;
* –ì–Ω—É—á–∫–∞ –ª–æ–≥—ñ–∫–∞ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü—ñ—ó —á–µ—Ä–µ–∑ –ø—ñ–¥—Ç—Ä–∏–º–∫—É —Å–ø–µ—Ü–∏—Ñ—ñ—á–Ω–∏—Ö —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–µ—Ä—ñ–≤;
* –ë–µ–∑–ø–µ—á–Ω–∞ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ –∑ —á—ñ—Ç–∫–∏–º –∫–æ–Ω—Ç—Ä–æ–ª–µ–º —Ç–∏–ø—ñ–≤;
* –ü—Ä–æ—Å—Ç–µ –¥–æ–¥–∞–≤–∞–Ω–Ω—è –∞—Ç—Ä–∏–±—É—Ç—ñ–≤ / –ø–µ—Ä–µ–π–º–µ–Ω—É–≤–∞–Ω–Ω—è –ø–æ–ª—ñ–≤ –±–µ–∑ –¥—É–±–ª—é–≤–∞–Ω–Ω—è –ª–æ–≥—ñ–∫–∏;
* –£–Ω—ñ—Ñ—ñ–∫–∞—Ü—ñ—è –æ–±—Ä–æ–±–∫–∏ DTO –≤ SOA / –º—ñ–∫—Ä–æ—Å–µ—Ä–≤—ñ—Å–Ω—ñ–π –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä—ñ.
